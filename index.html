<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Î∞∞Îã¨Ïùò Í∞ÄÏ°±</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 500px;
      margin: auto;
      text-align: center;
    }
    h1 {
      font-size: 1.5rem;
      margin-bottom: 10px;
    }
    input[type="text"] {
      padding: 8px 12px;
      width: 100%;
      box-sizing: border-box;
      margin-bottom: 15px;
      font-size: 1rem;
    }
    .ad-banner {
      background: #f1f1f1;
      border: 1px dashed #aaa;
      color: #555;
      padding: 20px;
      margin-bottom: 15px;
      border-radius: 8px;
      font-size: 0.95rem;
    }
    .categories {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      white-space: nowrap;
      padding-bottom: 10px;
      margin-bottom: 20px;
      -webkit-overflow-scrolling: touch;
    }
    .category-btn {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid #ccc;
      background: white;
      cursor: pointer;
      white-space: nowrap;
    }
    .category-btn.active {
      background: black;
      color: white;
    }
    .brands {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-bottom: 30px;
    }
    .brand-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .brand-btn {
      position: relative;
      width: 100%;
      aspect-ratio: 1 / 1;
      border-radius: 12px;
      border: 1px solid #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .brand-btn:hover {
      transform: scale(1.05);
      border-color: #999;
    }
    .brand-btn img {
      max-width: 60%;
      max-height: 60%;
    }
    .brand-name {
      margin-top: 6px;
      font-size: 0.85rem;
      color: #333;
      text-align: center;
    }
    .star {
      position: absolute;
      top: 6px;
      right: 6px;
      font-size: 16px;
      color: gold;
      cursor: pointer;
    }
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      text-align: center;
    }
    .modal-content h2 {
      font-size: 1.2rem;
      margin-bottom: 20px;
    }
    .modal-content a {
      display: block;
      margin: 10px 0;
      text-decoration: none;
      color: white;
      background: #333;
      padding: 10px;
      border-radius: 8px;
    }
    .modal-close {
      margin-top: 10px;
      cursor: pointer;
      color: #888;
    }
  </style>
</head>
<body>
  <h1>üì± Î∞∞Îã¨ÌîΩ</h1>

  <input type="text" id="searchInput" placeholder="Î∏åÎûúÎìúÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." />

  <div class="ad-banner">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9181451991704883"
     crossorigin="anonymous"></script>
  </div>

  <div class="categories" id="categoryList"></div>
  <div class="brands" id="brandList"></div>

  <div class="modal" id="modal">
    <div class="modal-content" id="modalContent">
      <h2 id="modalTitle">Ïï± ÎßÅÌÅ¨</h2>
      <a id="modalAndroid" target="_blank">üì≤ Android Ïï±</a>
      <a id="modalIOS" target="_blank">üì± iOS Ïï±</a>
      <a id="modalWeb" target="_blank">üåê Ïõπ Ï£ºÎ¨∏</a>
      <div class="modal-close" onclick="closeModal()">Îã´Í∏∞</div>
    </div>
  </div>

  <script>
    const data = {
      "ÍµêÏ¥åÏπòÌÇ®": {
        logo: "data:image/png;base64,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",
        android: "https://play.google.com/store/search?q=%EA%B5%90%EC%B4%8C%EC%B9%98%ED%82%A8&c=apps&hl=ko",
        ios: "https://apps.apple.com/app/id12345678",
        web: "https://order.kyochon.com",
        category: "ÏπòÌÇ®"
      },
      "BHC": {
        logo: "https://www.bhc.co.kr/images/common/logo.png",
        android: "https://play.google.com/store/apps/details?id=com.bhc.app",
        ios: "https://apps.apple.com/app/id87654321",
        web: "https://www.bhc.co.kr/order",
        category: "ÏπòÌÇ®"
      },
      // ... Ïù¥Ìïò ÏÉùÎûµ Í∞ÄÎä• (Í∏∞Ï°¥ Î∏åÎûúÎìú Îç∞Ïù¥ÌÑ∞ Í∑∏ÎåÄÎ°ú Ïú†ÏßÄ)
    };

    const categories = {
      "Ï†ÑÏ≤¥": "üçΩ",
      "Ï¶êÍ≤®Ï∞æÍ∏∞": "‚≠ê",
      "ÏπòÌÇ®": "üçó",
      "ÌñÑÎ≤ÑÍ±∞": "üçî",
      "ÌîºÏûê": "üçï",
      "ÌÜ†Ïä§Ìä∏": "üçû",
      "Îñ°Î≥∂Ïù¥": "üå∂Ô∏è",
      "Ï§ëÏãù": "ü•°",
      "ÎîîÏ†ÄÌä∏": "üç®"
    };

    let favorites = JSON.parse(localStorage.getItem("favorites") || "[]");

    const categoryList = document.getElementById('categoryList');
    const brandList = document.getElementById('brandList');
    const searchInput = document.getElementById('searchInput');

    let currentCategory = "Ï†ÑÏ≤¥";
    let currentSearch = "";

    Object.entries(categories).forEach(([cat, icon]) => {
      const btn = document.createElement('button');
      btn.className = 'category-btn';
      btn.innerText = `${icon} ${cat}`;
      if (cat === "Ï†ÑÏ≤¥") btn.classList.add("active");
      btn.onclick = () => {
        document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentCategory = cat;
        renderBrands();
      };
      categoryList.appendChild(btn);
    });

    searchInput.addEventListener("input", () => {
      currentSearch = searchInput.value.trim().toLowerCase();
      renderBrands();
    });

    function toggleFavorite(brand) {
      if (favorites.includes(brand)) {
        favorites = favorites.filter(b => b !== brand);
      } else {
        favorites.push(brand);
      }
      localStorage.setItem("favorites", JSON.stringify(favorites));
      renderBrands();
    }

    function openModal(brand, info) {
      document.getElementById('modalTitle').innerText = `${brand} Ï£ºÎ¨∏ ÎßÅÌÅ¨`;
      document.getElementById('modalAndroid').href = info.android;
      document.getElementById('modalIOS').href = info.ios;
      document.getElementById('modalWeb').href = info.web;
      document.getElementById('modal').style.display = 'flex';
      history.pushState(null, '', '#modal'); // Îí§Î°úÍ∞ÄÍ∏∞Î°ú Îã´Í∏∞ ÏúÑÌï®
    }

    function closeModal() {
      document.getElementById('modal').style.display = 'none';
      if (location.hash === '#modal') history.back(); // Ìï¥Ïãú Ï†úÍ±∞
    }

    window.addEventListener('popstate', () => {
      closeModal();
    });

    function renderBrands() {
      brandList.innerHTML = '';
      let entries = Object.entries(data);

      entries = entries.filter(([brand, info]) => {
        const isFavorite = favorites.includes(brand);
        const matchCategory =
          currentCategory === "Ï†ÑÏ≤¥" ||
          (currentCategory === "Ï¶êÍ≤®Ï∞æÍ∏∞" && isFavorite) ||
          info.category === currentCategory;
        const matchSearch = brand.toLowerCase().includes(currentSearch);
        return matchCategory && matchSearch;
      });

      entries.sort(([a], [b]) => {
        const aFav = favorites.includes(a);
        const bFav = favorites.includes(b);
        if (aFav && !bFav) return -1;
        if (!aFav && bFav) return 1;
        return a.localeCompare(b);
      });

      entries.forEach(([brand, info]) => {
        const wrapper = document.createElement('div');
        wrapper.className = 'brand-wrapper';

        const btn = document.createElement('div');
        btn.className = 'brand-btn';
        btn.innerHTML = `
          <img src="${info.logo}" alt="${brand} Î°úÍ≥†" />
          <div class="star" onclick="event.stopPropagation(); toggleFavorite('${brand}')">
            ${favorites.includes(brand) ? '‚≠ê' : '‚òÜ'}
          </div>
        `;
        btn.onclick = () => openModal(brand, info);

        const label = document.createElement('div');
        label.className = 'brand-name';
        label.innerText = brand;

        wrapper.appendChild(btn);
        wrapper.appendChild(label);
        brandList.appendChild(wrapper);
      });
    }

    renderBrands();
  </script>
</body>
</html>
